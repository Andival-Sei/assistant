# CLAUDE.md

Этот файл содержит контекст для AI-агентов (Claude, Cursor, Copilot) при работе с кодом проекта.

## Команды

```bash
pnpm install      # Установка зависимостей
pnpm dev          # Dev-сервер (http://localhost:5173)
pnpm build        # Production сборка
pnpm preview      # Превью сборки
pnpm lint         # ESLint проверка
pnpm lint:fix     # ESLint с автофиксом
pnpm format       # Prettier форматирование
pnpm typecheck    # Проверка типов TypeScript
```

## О проекте

**Ассистент** — приложение для управления финансами, здоровьем, списками и семейным режимом.

### Модули

| Модуль    | Описание                                 | Статус              |
| --------- | ---------------------------------------- | ------------------- |
| Finance   | Учёт доходов/расходов, статистика        | Спецификация готова |
| Health    | Показатели здоровья, рекомендации        | Не начат            |
| Assistant | Списки покупок, напоминания, уведомления | Не начат            |
| Family    | Объединение в семьи, общие показатели    | Не начат            |

> **Текущее состояние:** Реализован только лендинг. Модули будут добавлены по [roadmap](./docs/meta/roadmap.md).

## Технологический стек

| Технология    | Версия | Назначение           |
| ------------- | ------ | -------------------- |
| Vite          | 6.x    | Сборщик и dev-сервер |
| React         | 19.x   | UI библиотека        |
| TypeScript    | 5.7.x  | Типизация            |
| React Router  | 7.x    | Маршрутизация (SPA)  |
| Tailwind CSS  | 4.x    | Стилизация           |
| Framer Motion | 12.x   | Анимации             |
| Lucide React  | latest | Иконки               |

### Планируется

| Технология      | Назначение           |
| --------------- | -------------------- |
| Supabase        | БД, Auth, Realtime   |
| TanStack Query  | Кеширование данных   |
| Zustand         | Клиентское состояние |
| Zod             | Валидация схем       |
| React Hook Form | Работа с формами     |

## Структура проекта

```
assistant/
├── src/
│   ├── components/       # React компоненты
│   │   ├── ui/           # Базовые UI компоненты (Button, etc.)
│   │   ├── landing/      # Секции лендинга
│   │   ├── motion/       # Анимационные компоненты
│   │   └── theme-toggle.tsx
│   ├── pages/            # Страницы приложения
│   │   ├── landing/      # Лендинг
│   │   └── placeholder.tsx
│   ├── providers/        # React провайдеры
│   │   └── theme-provider.tsx
│   ├── lib/              # Утилиты
│   │   └── utils.ts      # cn() и другие хелперы
│   ├── App.tsx           # Главный компонент с роутами
│   ├── main.tsx          # Точка входа
│   └── index.css         # Глобальные стили и темы
├── public/               # Статические файлы
├── docs/                 # Документация проекта
│   ├── specs/            # Спецификации модулей
│   ├── concepts/         # Архитектурные концепции
│   ├── guides/           # Руководства
│   ├── reference/        # Справочник
│   ├── processes/        # Процессы разработки
│   └── meta/             # Планирование, roadmap, ADR
└── reference/            # Референс (Pennora) — не часть сборки
```

## Правила разработки

### Код

- Использовать **pnpm** (не npm/yarn)
- TypeScript для всего кода
- Комментарии на русском языке
- Принципы Clean Code: осмысленные имена, маленькие функции, DRY, KISS

### Стиль

- ESLint + Prettier для форматирования
- НЕ править стиль вручную — использовать `pnpm lint:fix` и `pnpm format`
- Конфиги: `.prettierrc`, `eslint.config.mjs`

### Импорты

- Использовать алиас `@/*` для импортов из `src/`
- Пример: `import { Button } from "@/components/ui/button"`

### Компоненты

- Функциональные компоненты с хуками
- Named exports для компонентов
- Директории lowercase с дефисами: `components/auth-wizard/`

## Темы

- Светлая, тёмная, системная
- Цветовая схема: изумрудно-зелёная (`#10b981` / `#00dc82`)
- CSS переменные в `src/index.css`
- Класс `.dark` на `<html>` для тёмной темы
- localStorage ключ: `assistant-theme`

## Документация

Подробная документация в папке `docs/`:

- **[docs/README.md](./docs/README.md)** — навигация по документации
- **[docs/specs/](./docs/specs/)** — спецификации модулей
- **[docs/meta/agents.md](./docs/meta/agents.md)** — детальный контекст для AI

## Планы развития

- **[Целевая архитектура](./docs/concepts/target-architecture.md)** — как будет устроен проект
- **[Roadmap](./docs/meta/roadmap.md)** — план по фазам
- **[Спецификации модулей](./docs/specs/)** — детальное описание каждого модуля

## Референс

Папка `reference/pennora/` содержит предыдущую версию проекта (Next.js + Supabase). Используется как референс для:

- Логики финансового модуля
- Паттернов кеширования (TanStack Query)
- UI компонентов и стилей
- Схемы базы данных
