# Roadmap: Ассистент

**Версия:** 0.1.0  
**Статус:** Finance MVP в разработке  
**Цель:** MVP с базовым модулем финансов

> **Задачи в Linear:** [Проект Assistant](https://linear.app/andival/project/assistant-4bafc56668cb)

---

## Текущее состояние (февраль 2026)

По аудиту кода:

| Область    | Статус                                                                                                         |
| ---------- | -------------------------------------------------------------------------------------------------------------- |
| Auth       | ✅ Login, Register, ProtectedRoute, AuthProvider                                                               |
| Finance UI | ✅ Overview, Wallets, Transactions, Analytics, Categories, AddTransactionForm, Onboarding                      |
| Infra      | ✅ Supabase client, TanStack Query, Zustand                                                                    |
| Gaps       | Синхронизация миграций c фактической схемой БД, .env.example, фильтры, формы счёт/категория, RLS update/delete |

См. задачи AND-16 … AND-28 в Linear.

### Деплой

- Продакшн-лендинг (Vercel): [`https://assistant-two-beta.vercel.app/`](https://assistant-two-beta.vercel.app/)

---

## Обзор

«Ассистент» — приложение для управления финансами, здоровьем, списками и семейным режимом. Roadmap описывает путь от текущего состояния к полноценному продукту.

---

## Фаза 1: Инфраструктура

> Цель: Подготовить проект к разработке модулей

### 1.1 Supabase Setup

- [x] Создать Supabase проект
- [x] Настроить Auth (email/password)
- [x] Создать/проверить базовые таблицы (wallets, transactions, categories) — таблицы созданы в Supabase, в репо добавлены idempotent‑миграции
- [x] Настроить RLS политики (transactions, wallets, categories, transaction_items; нет: update/delete для categories, delete для wallets)
- [x] Добавить Supabase клиент в проект
- [x] RPC update_wallet_balance (вызывается из finance-service, миграция добавлена)
- [x] .env.example (VITE_SUPABASE_URL, VITE_SUPABASE_ANON_KEY) для онбординга разработчиков

### 1.2 Авторизация

- [x] Страница входа (`/login`)
- [x] Страница регистрации (`/register`)
- [x] Защита роутов (ProtectedRoute)
- [x] Редиректы (логин → дашборд, логаут → лендинг)

### 1.3 TanStack Query

- [x] Настроить QueryClient
- [x] Создать QueryProvider
- [x] Базовая структура query keys

### 1.4 Базовые UI компоненты

- [x] Перенести компоненты из Pennora (Input, Card, Select, CustomCalendar, etc.)
- [x] Адаптировать под текущий проект

---

## Фаза 2: Finance MVP

> Цель: Базовый учёт финансов

### 2.1 Счета (Wallets)

- [x] Страница списка счетов (WalletsTab)
- [x] Создание счёта (Onboarding при первом входе)
- [ ] Создание счёта из WalletsTab (кнопка «Добавить счёт» не подключена)
- [ ] Редактирование счёта
- [ ] Удаление счёта
- [x] Отображение балансов

### 2.2 Транзакции (Transactions)

- [x] Страница списка транзакций (TransactionsTab, TransactionList)
- [x] Добавление расхода (AddTransactionForm, в т.ч. split)
- [ ] Добавление дохода (форма поддерживает только expense)
- [ ] Фильтрация по дате (кнопка «Фильтры» без логики)
- [ ] Фильтрация по категории
- [x] Поиск по описанию

### 2.3 Категории

- [x] Системные категории (seedDefaultCategories в finance-service)
- [x] Отображение категорий (CategoriesTab)
- [ ] Создание пользовательских категорий (кнопка «Создать» не подключена)

### 2.4 Dashboard (Overview)

- [x] Баланс (общий, по счетам)
- [ ] Доходы/расходы за месяц (сейчас считается за всё время)
- [x] Последние транзакции

---

## Фаза 3: Finance Extended

> Цель: Расширенная функциональность финансов

### 3.1 Статистика

- [x] Страница статистики (AnalyticsTab)
- [x] Диаграмма расходов по категориям (progress bars)
- [ ] Тренды (линейный график)
- [ ] Фильтры по периоду (сейчас данные за всё время)

### 3.2 Переводы

- [x] Перевод между счетами (AddTransactionForm: type transfer, to_wallet_id)
- [ ] Конвертация валют при переводе

### 3.3 Мультивалютность

- [x] Поддержка нескольких валют (поле currency в wallets, onboarding)
- [ ] API курсов валют
- [ ] Автоматическая конвертация

### 3.4 Улучшения UX

- [ ] Редактирование транзакции
- [ ] Удаление транзакции
- [x] Поиск по транзакциям (TransactionList, search prop)

---

## Фаза 4: Assistant Module

> Цель: Списки и напоминания

### 4.1 Списки

- [ ] Создание списка
- [ ] Добавление элементов
- [ ] Отметка выполненных
- [ ] Удаление списка

### 4.2 Напоминания

- [ ] Создание напоминания
- [ ] Дата и время
- [ ] Уведомления (если PWA ready)

---

## Фаза 5: Health Module

> Цель: Базовое отслеживание здоровья

### 5.1 Показатели

- [ ] Ввод показателей (вес, давление, etc.)
- [ ] История измерений
- [ ] Графики трендов

---

## Фаза 6: Family Module

> Цель: Семейный режим

### 6.1 Семья

- [ ] Создание семьи
- [ ] Приглашение участников
- [ ] Общая статистика

---

## Фаза 7: Polish

> Цель: Подготовка к production

### 7.1 PWA

- [ ] Service Worker
- [ ] Manifest
- [ ] Офлайн-режим (базовый)

### 7.2 Тестирование

- [ ] Unit тесты (Vitest)
- [ ] E2E тесты (Playwright)

### 7.3 Документация

- [ ] Обновить все спецификации
- [ ] API документация
- [ ] Инструкция по деплою

---

## Метрики

| Метрика                | Текущее                 | Цель                      |
| ---------------------- | ----------------------- | ------------------------- |
| Фаза                   | 2 (Finance MVP ~90–95%) | Фаза 3 (Finance Extended) |
| Test coverage          | 0%                      | 70%                       |
| Lighthouse Performance | ?                       | ≥90                       |
| Модулей готово         | 1/4 (Finance в работе)  | 2/4 (Finance, Assistant)  |

---

## Приоритеты

```
Фаза 1 (Инфраструктура)
        │
        ▼
Фаза 2 (Finance MVP)
        │
        ▼
Фаза 3 (Finance Extended)
        │
        ▼
Фаза 4 (Assistant) ◄─── Можно параллельно с Фазой 3
        │
        ▼
Фаза 5 (Health)
        │
        ▼
Фаза 6 (Family)
        │
        ▼
Фаза 7 (Polish)
```

---

**Последнее обновление:** 2026-02-13
